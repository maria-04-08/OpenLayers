<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv=Content-Type content="text/html;charset=utf-8">
		<meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
		<meta content=always name=referrer>
		<title>OpenLayers 3地图示例</title>
		<link href="./css/ol.css" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="./js/ol.js" charset="utf-8"></script>
	</head>
	<body>
		<div id="map" style="width: 100%"></div>
		<script>
			//arcgis动态图层服务地址
// 			var url = 'https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/' +
// 			'Specialty/ESRI_StateCityHighway_USA/MapServer'; 
////			var url = 'http://10.155.5.30/ArcGIS/rest/services/hainancitys/MapServer';
//			// var url = 'http://10.155.5.30/ArcGIS/rest/services/bg/MapServer';
//			//创建动态图层
//			
//			var danymicLayer = new ol.layer.Image({
//			  source: new ol.source.ImageArcGISRest({
//				ratio: 1,
//				params: {},
//				url: url
//			  })
//			})
//			//初始化地图
//			var map = new ol.Map({
//				target: 'map',
//				view: new ol.View({
//					center: [-10997148, 4569099],
//				  zoom: 4
//				})
//			  });
//			map.addLayer(danymicLayer);

		
   		  // 创建地图
// 		  new ol.Map({
// 				// 设置地图图层
// 				layers: [
// 				  // 创建一个使用Open Street Map地图源的瓦片图层
// 				  new ol.layer.Tile({source: new ol.source.OSM()})
// 				],
// 				// 设置显示地图的视图
// 				view: new ol.View({
// 				  center: [0, 0],    // 定义地图显示中心于经度0度，纬度0度处
// 				  zoom: 2            // 并且定义地图显示层级为2
// 				}),
// 				// 让id为map的div作为地图的容器
// 				target: 'map'    
// 			});
var center = ol.proj.transform([104.06667, 30.66667], 'EPSG:4326', 'EPSG:3857');
		var gaodeMapLayer = new ol.layer.Tile({
        source: new ol.source.XYZ({
            url:'http://webrd03.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&size=1&scale=1&style=8'//高德地图在线
        }),
        projection: 'EPSG:3857'
    })
	    //			//初始化地图
			var map = new ol.Map({
				target: 'map',
				view: new ol.View({
					center: center,
				  zoom: 4
				})
			  });
			map.addLayer(gaodeMapLayer);

		</script>
	</body>
</html>
